### Controls Defined
A control is a reusable class who main purpose is to interact with users on behalf of a container. Its interactions takes 2 forms: acceptance of user input and presentation of results as UI output.

#### Owner-Drawn Controls (have functionality not the UI you want)
- There are controls that you can customize if they provide the functionality but not the desired UI. You can take over the drawing using a feature called **owner-draw**. These controls fire events to let the container know it can do the drawing.
- You can use the `ControlPaint` helper class for drawing common stuff and themed control rendering for rendering theme-sensitive common stuff

#### Extending Existing Controls (have UI not the functionality you want)
- On the other hand, if you see a control that has the UI you require but not the functionality you need, you can derive from it and add your desired functionality.
- Benefit: even though you can always provide the extra functionality in the form, by extending controls, you can just drop it in any form and not have to implement the functionality in the form itself

#### Custom Controls (don't have UI nor functionality you want)
- Controls derive from the `Control` base class, allowing you to specify the input and output completely
- Controls can also derive from `ScrollableControl` which is the same + built-in support for scrolling

##### Options for handling Events
1. If you're not extending the `Control` base class, you just subscribe to that control's event
2. If you *are* extending the `Control` base class, you can do option 1 and also override the virtual method provided by the control to do relevant processing. You also need to call the base control's method to fire the event.

### Ambient Properties
- An **ambient** property is one that, if it's not set in the control, is inherited from the container
- The four ambient properties are `BackColor`, `ForeColor`, `Font`, and `Cursor`
- If a control has an ambient property set, that value is used instead of the container's value

### Control Input
#### Mouse Input
- `OnMouseDown`, `OnMouseMove`, and `OnMouseUp` are the important ones
- `MouseEventArgs` gives you information you need to handle mouse events such as which button was clicked and the number of clicks

#### Keyboard Input
- `OnKeyDown`, `OnKeyPress`, and `OnKeyUp` is important
- You can check in `OnKeyPress` which key was pressed by checking `e.KeyChar`
- You can set `e.Handled` to true to indicate that no other handlers should handle the event
- Special sequences (such as Alt, Arrow keys) can't be accessed from `KeyChar` / `OnKeyPress`, you have to use `OnKeyDown` and access `KeyCode` since `Ctrl` or `Alt` + a character are special sequences

#### Windows Message Handling
- Paint, I/O, and most other events handled by a control come from the underlying Windows OS
- Events start out as Windows messages generated by some hardware -> turns into a call on a `OnPaint` or `OnKeyPress` method -> fires the `Paint` or `KeyPress` method to notify all subscribers
- However, not all Windows messages are turned into events by Winforms. In those cases, you can handle messages as they come to the control class by overriding the `WndProc` method

```cs
public class MyControl : Control {
        protected override void WndProc(ref Message m) {
                // process and/or update message

                // let base class process the message if you don't want to
                base.WndProc(ref m);
        }
}
```

### User Controls
- User controls are a way to contain a set of other controls for reuse, producing a kind of subform